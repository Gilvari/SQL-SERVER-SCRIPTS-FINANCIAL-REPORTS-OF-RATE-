IF OBJECT_ID('tempdb..#tempid') IS NOT NULL
    BEGIN
        DROP TABLE #tempid;
    END;

IF OBJECT_ID('tempdb..#missid') IS NOT NULL
    BEGIN
        DROP TABLE #missid;
    END;
CREATE TABLE #tempid (
             id BIGINT
                     );

INSERT INTO #tempid
VALUES (1761602),
(1761604),
(1761622),
(1761623),
(1761825),
(1761826),
(1795380),
(1795381),
(1761631),
(1761632),
(1759285),
(1759289),
(1762441),
(1762442),
(1762606),
(1762607),
(1762640),
(1762641),
(1759484),
(1759487),
(1759755),
(1759756),
(1795349),
(1795350),
(1780656),
(1780657),
(1780674),
(1780675),
(1757683),
(1758233),
(1761795),
(1761797),
(1761947),
(1792830),
(1792832),
(1793039),
(1793040),
(1792187),
(1792189),
(1792194),
(1792195),
(1795372),
(1795370),
(1795371),
(1791732),
(1791733),
(1793196),
(1759082),
(1759084),
(1759133),
(1793028),
(1793029),
(1793277),
(1791750),
(1791759),
(1792684),
(1792685),
(1794893),
(1755830),
(1755831),
(1755855),
(1763575),
(1763279),
(1763281),
(1792331),
(1764306),
(1763257),
(1792330),
(1764305),
(1763258),
(1763244),
(1763245),
(1794602),
(1793250),
(1793242),
(1794601),
(1793251),
(1793243),
(1793145),
(1793147),
(1767330),
(1790311),
(1789165),
(1790310),
(1789166),
(1789146),
(1790316),
(1789147),
(1792495),
(1792496),
(1791726),
(1791722),
(1793433),
(1793434),
(1756147),
(1756148),
(1755311),
(1755312),
(1755254),
(1755255),
(1792532),
(1792535),
(1755799),
(1755800),
(1754785),
(1759282),
(1754786),
(1755177),
(1754911),
(1754914),
(1766371),
(1766372),
(1764090),
(1764091),
(1754817),
(1754818),
(1758189),
(1758103),
(1758105),
(1771778),
(1771779),
(1807563),
(1791990),
(1791625),
(1807562),
(1791989),
(1791626),
(1791608),
(1791609),
(1754675),
(1754677),
(1754891),
(1754892),
(1791598),
(1791599),
(1791605),
(1791827),
(1791828),
(1757633),
(1757634),
(1766235),
(1766236),
(1763709),
(1763710),
(1763994),
(1763995),
(1763998),
(1755772),
(1755773),
(1755821),
(1795446),
(1795448),
(1795491),
(1755492),
(179555),
(1795439),
(1795440),
(1793449),
(1793450),
(1792253),
(1792254),
(1795149),
(1795150),
(1763430),
(1763432),
(1763540),
(1757702),
(1757703),
(1757754),
(1757944),
(1756084),
(1756085),
(1755127),
(1755138),
(1756190),
(1795592),
(1759295),
(1759297),
(1757522),
(1757523),
(1757566),
(1755239),
(1755240),
(1792821),
(1792822),
(1792861),
(1792862),
(1757689),
(1757690),
(1758243),
(1792557),
(1792558),
(1795168),
(1795169),
(1795253),
(1795514),
(1761400),
(1761401),
(1793381),
(1793382),
(1755244),
(1755245),
(1780791),
(1780793),
(1781061),
(1756321),
(1756322),
(1798664),
(1755062),
(1755063),
(1754634),
(1754635),
(1754558),
(1754559),
(1793184),
(1792843),
(1792844),
(1792812),
(1792813),
(1794748),
(1794749),
(1794751),
(1794752),
(1795360),
(1795368),
(1794740),
(1794741),
(1795340),
(1797027),
(1797028),
(1795335),
(1795336),
(1765710),
(1762373),
(1762374),
(1761646),
(1761647),
(1755766),
(1755767),
(1755757),
(1755758),
(1795026),
(1795029),
(1780840),
(1780842),
(1756629),
(1756630),
(1793804),
(1793805),
(1756494),
(1756495),
(1793269),
(1793270),
(1793093),
(1793094),
(1764377),
(1764378),
(1764386),
(1765297),
(1765298),
(1792999),
(1793000),
(1764369),
(1764370)



CREATE TABLE #missid (
             id BIGINT
                     );

DECLARE @count INT= 0;

DECLARE @i INT= 0;

DECLARE @top BIGINT= 0;

SELECT @count = COUNT(*)
FROM #tempid;

WHILE @i < @count
    BEGIN
        SET NOCOUNT ON;
        SET @top = ( SELECT TOP 1 id
                     FROM #tempid
                     ORDER BY 1
                   );
        EXEC USP_ACC_SAVE_CtrlDocNature @DId = @top;
        IF @@error > 0
            BEGIN
                PRINT CONVERT(NVARCHAR(20) , @top)+' has problem';
                INSERT INTO #missid ( id
                                    )
                VALUES ( @top
                       );
                 
            END;
        ELSE
            BEGIN
                PRINT CONVERT(NVARCHAR(20) , @top)+' ok';
            END;
        DELETE #tempid
        WHERE id = @top;
        SET @i = @i + 1;
        

    END;
    
         select * from #missid